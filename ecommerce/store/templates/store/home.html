{% extends 'store/base.html' %}

{% block title %}Home - Amazon Clone{% endblock %}

{% block extra_css %}
<style>
    /* Floating particles background */
    .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
    }

    .particle {
        position: absolute;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        animation: float 6s ease-in-out infinite;
    }

    @keyframes float {

        0%,
        100% {
            transform: translateY(0px) rotate(0deg);
        }

        50% {
            transform: translateY(-20px) rotate(180deg);
        }
    }

    /* Enhanced Hero Section */
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 120px 0 80px;
        position: relative;
        overflow: hidden;
        min-height: 70vh;
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        pointer-events: none;
    }

    .hero-content {
        position: relative;
        z-index: 2;
        animation: slideUp 1s ease-out;
    }

    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(50px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .hero-title {
        font-size: clamp(3rem, 6vw, 5rem);
        font-weight: 700;
        margin-bottom: 1.5rem;
        background: linear-gradient(45deg, #fff, #ffd700);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        line-height: 1.2;
    }

    .hero-subtitle {
        font-size: 1.4rem;
        opacity: 0.9;
        margin-bottom: 2.5rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    .cta-button {
        background: linear-gradient(45deg, #ffd700, #ffed4e);
        color: #333;
        padding: 18px 35px;
        border: none;
        border-radius: 50px;
        font-size: 1.2rem;
        font-weight: 600;
        text-decoration: none;
        display: inline-block;
        transition: all 0.3s ease;
        box-shadow: 0 15px 35px rgba(255, 215, 0, 0.3);
        position: relative;
        overflow: hidden;
    }

    .cta-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s ease;
    }

    .cta-button:hover::before {
        left: 100%;
    }

    .cta-button:hover {
        transform: translateY(-5px);
        box-shadow: 0 25px 50px rgba(255, 215, 0, 0.4);
        color: #333;
    }

    /* Categories Section */
    .categories-section {
        padding: 80px 0;
        background: white;
        position: relative;
    }

    .section-title {
        text-align: center;
        font-size: 2.8rem;
        font-weight: 700;
        margin-bottom: 3rem;
        color: #333;
        position: relative;
    }

    .section-title::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: linear-gradient(45deg, var(--amazon-orange), #ffd700);
        border-radius: 2px;
    }

    .categories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
    }

    .category-card {
        background: white;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.4s ease;
        text-decoration: none;
        color: inherit;
        height: 300px;
        position: relative;
        cursor: pointer;
    }

    .category-card:hover {
        transform: translateY(-15px) rotateX(5deg);
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.2);
        text-decoration: none;
        color: inherit;
    }

    .category-image {
        height: 200px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 4rem;
        color: white;
        position: relative;
        overflow: hidden;
    }

    .category-image::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s ease;
    }

    .category-card:hover .category-image::before {
        left: 100%;
    }

    .category-name {
        padding: 20px;
        font-weight: 600;
        text-align: center;
        font-size: 1.2rem;
    }

    /* Featured Products Section */
    .featured-section {
        padding: 80px 0;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
    }

    .product-card {
        background: white;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.4s ease;
        height: 100%;
        position: relative;
        cursor: pointer;
    }

    .product-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
    }

    .product-image {
        position: relative;
        overflow: hidden;
        height: 250px;
        background: linear-gradient(45deg, #667eea, #764ba2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
        color: white;
    }

    .product-badge {
        position: absolute;
        top: 15px;
        left: 15px;
        background: var(--amazon-orange);
        color: white;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        z-index: 2;
    }

    .wishlist-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 2;
    }

    .wishlist-btn:hover {
        background: white;
        transform: scale(1.1);
    }

    .wishlist-btn.active {
        background: var(--amazon-orange);
        color: white;
    }

    /* Stats Section */
    .stats-section {
        padding: 80px 0;
        background: linear-gradient(135deg, var(--amazon-blue) 0%, var(--amazon-light-blue) 100%);
        color: white;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 3rem;
        text-align: center;
        margin-top: 3rem;
    }

    .stat-item {
        padding: 2rem;
        transition: transform 0.3s ease;
    }

    .stat-item:hover {
        transform: translateY(-5px);
    }

    .stat-number {
        font-size: 3.5rem;
        font-weight: 700;
        display: block;
        margin-bottom: 0.5rem;
        color: var(--amazon-orange);
    }

    .stat-label {
        font-size: 1.2rem;
        opacity: 0.9;
        font-weight: 500;
    }

    /* Newsletter Section */
    .newsletter-section {
        padding: 80px 0;
        background: white;
        text-align: center;
    }

    .newsletter-form {
        max-width: 500px;
        margin: 2rem auto 0;
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
    }

    .newsletter-input {
        flex: 1;
        min-width: 250px;
        padding: 15px 20px;
        border: 2px solid #e1e5e9;
        border-radius: 50px;
        font-size: 1rem;
        outline: none;
        transition: all 0.3s ease;
    }

    .newsletter-input:focus {
        border-color: var(--amazon-orange);
        box-shadow: 0 0 0 3px rgba(255, 159, 0, 0.1);
    }

    .newsletter-btn {
        padding: 15px 30px;
        background: var(--amazon-orange);
        color: white;
        border: none;
        border-radius: 50px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        white-space: nowrap;
    }

    .newsletter-btn:hover {
        background: #e89400;
        transform: translateY(-2px);
    }

    /* Scroll indicator */
    .scroll-indicator {
        position: fixed;
        top: 0;
        left: 0;
        width: 0%;
        height: 3px;
        background: linear-gradient(45deg, var(--amazon-orange), #ffd700);
        z-index: 9999;
        transition: width 0.1s ease;
    }

    /* Mobile Responsiveness */
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.5rem;
        }

        .hero-subtitle {
            font-size: 1.2rem;
        }

        .categories-grid,
        .products-grid,
        .stats-grid {
            grid-template-columns: 1fr;
        }

        .newsletter-form {
            flex-direction: column;
        }

        .newsletter-input {
            min-width: auto;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Scroll Indicator -->
<div class="scroll-indicator" id="scrollIndicator"></div>

<!-- Floating Particles -->
<div class="particles" id="particles"></div>

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content text-center">
            <h1 class="hero-title">Welcome to ShopEase</h1>
            <p class="hero-subtitle">Discover amazing products at unbeatable prices. Your one-stop destination for
                everything you need, delivered right to your doorstep.</p>
            <a href="{% url 'product_list' %}" class="cta-button">Start Shopping Now</a>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section class="categories-section">
    <div class="container">
        <h2 class="section-title">Shop by Category</h2>
        <div class="categories-grid">
            <a href="{% url 'product_list' %}?category=electronics" class="category-card" onclick="animateCard(this)">
                <div class="category-image">
                    📱
                </div>
                <div class="category-name">Electronics</div>
            </a>
            <a href="{% url 'product_list' %}?category=fashion" class="category-card" onclick="animateCard(this)">
                <div class="category-image">
                    👔
                </div>
                <div class="category-name">Fashion</div>
            </a>
            <a href="{% url 'product_list' %}?category=home" class="category-card" onclick="animateCard(this)">
                <div class="category-image">
                    🏠
                </div>
                <div class="category-name">Home & Garden</div>
            </a>
            <a href="{% url 'product_list' %}?category=sports" class="category-card" onclick="animateCard(this)">
                <div class="category-image">
                    ⚽
                </div>
                <div class="category-name">Sports</div>
            </a>
            <a href="{% url 'product_list' %}?category=books" class="category-card" onclick="animateCard(this)">
                <div class="category-image">
                    📚
                </div>
                <div class="category-name">Books</div>
            </a>
            <a href="{% url 'product_list' %}?category=health" class="category-card" onclick="animateCard(this)">
                <div class="category-image">
                    💊
                </div>
                <div class="category-name">Health & Beauty</div>
            </a>
        </div>
    </div>
</section>

<!-- Featured Products Section -->
<section class="featured-section">
    <div class="container">
        <h2 class="section-title">Featured Products</h2>
        <div class="products-grid">
            <!-- Sample featured products -->
            <div class="product-card" onclick="flipCard(this)">
                <div class="product-image">
                    <div class="product-badge">Hot Deal</div>
                    <button class="wishlist-btn" onclick="event.stopPropagation(); toggleWishlist(1, this)">
                        <i class="far fa-heart"></i>
                    </button>
                    📱
                </div>
                <div class="product-info">
                    <div class="product-title">Latest Smartphone</div>
                    <div class="product-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span class="rating-count">(128 reviews)</span>
                    </div>
                    <div class="product-price">
                        <span class="current-price">$599.99</span>
                        <span class="original-price">$799.99</span>
                        <span class="discount">25% OFF</span>
                    </div>
                    <button class="add-to-cart-btn" onclick="event.stopPropagation(); addToCart(1)">
                        Add to Cart
                    </button>
                </div>
            </div>

            <div class="product-card" onclick="flipCard(this)">
                <div class="product-image">
                    <div class="product-badge">Best Seller</div>
                    <button class="wishlist-btn" onclick="event.stopPropagation(); toggleWishlist(2, this)">
                        <i class="far fa-heart"></i>
                    </button>
                    💻
                </div>
                <div class="product-info">
                    <div class="product-title">Gaming Laptop</div>
                    <div class="product-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                        <span class="rating-count">(89 reviews)</span>
                    </div>
                    <div class="product-price">
                        <span class="current-price">$1,299.99</span>
                        <span class="original-price">$1,599.99</span>
                        <span class="discount">19% OFF</span>
                    </div>
                    <button class="add-to-cart-btn" onclick="event.stopPropagation(); addToCart(2)">
                        Add to Cart
                    </button>
                </div>
            </div>

            <div class="product-card" onclick="flipCard(this)">
                <div class="product-image">
                    <div class="product-badge">New Arrival</div>
                    <button class="wishlist-btn" onclick="event.stopPropagation(); toggleWishlist(3, this)">
                        <i class="far fa-heart"></i>
                    </button>
                    🎧
                </div>
                <div class="product-info">
                    <div class="product-title">Wireless Headphones</div>
                    <div class="product-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span class="rating-count">(256 reviews)</span>
                    </div>
                    <div class="product-price">
                        <span class="current-price">$199.99</span>
                        <span class="original-price">$249.99</span>
                        <span class="discount">20% OFF</span>
                    </div>
                    <button class="add-to-cart-btn" onclick="event.stopPropagation(); addToCart(3)">
                        Add to Cart
                    </button>
                </div>
            </div>
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'product_list' %}" class="btn btn-outline-primary btn-lg">View All Products</a>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section">
    <div class="container">
        <h2 class="section-title">Why Choose Us</h2>
        <div class="stats-grid">
            <div class="stat-item">
                <span class="stat-number" data-target="50000">0</span>
                <div class="stat-label">Happy Customers</div>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-target="10000">0</span>
                <div class="stat-label">Products Available</div>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-target="99">0</span>
                <div class="stat-label">Customer Satisfaction %</div>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-target="24">0</span>
                <div class="stat-label">Hours Support</div>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter Section -->
<section class="newsletter-section">
    <div class="container">
        <h2 class="section-title">Stay Updated</h2>
        <p class="lead">Subscribe to our newsletter and get the latest deals and updates delivered to your inbox.</p>
        <form class="newsletter-form" onsubmit="handleNewsletterSubmit(event)">
            <input type="email" class="newsletter-input" placeholder="Enter your email address" required>
            <button type="submit" class="newsletter-btn">Subscribe Now</button>
        </form>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Create floating particles
    function createParticles() {
        const particlesContainer = document.getElementById('particles');
        const particleCount = 30;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';

            const size = Math.random() * 4 + 2;
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            const delay = Math.random() * 6;

            particle.style.width = size + 'px';
            particle.style.height = size + 'px';
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            particle.style.animationDelay = delay + 's';

            particlesContainer.appendChild(particle);
        }
    }

    // Update scroll indicator
    window.addEventListener('scroll', () => {
        const scrollPercent = (window.pageYOffset / (document.body.scrollHeight - window.innerHeight)) * 100;
        document.getElementById('scrollIndicator').style.width = scrollPercent + '%';
    });

    // Animate category cards
    function animateCard(card) {
        card.style.transform = 'scale(0.95)';
        card.style.transition = 'transform 0.1s ease';

        setTimeout(() => {
            card.style.transform = 'scale(1.05)';
        }, 100);

        setTimeout(() => {
            card.style.transform = 'scale(1)';
        }, 200);
    }

    // Flip product cards
    function flipCard(card) {
        card.style.transform = 'rotateY(180deg)';
        card.style.transition = 'transform 0.6s ease';

        setTimeout(() => {
            card.style.transform = 'rotateY(0deg)';
        }, 600);
    }

    // Animate counter numbers
    function animateCounters() {
        const counters = document.querySelectorAll('.stat-number');

        counters.forEach(counter => {
            const target = parseInt(counter.getAttribute('data-target'));
            const increment = target / 200;
            let current = 0;

            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                counter.textContent = Math.floor(current);
            }, 10);
        });
    }

    // Intersection Observer for animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                if (entry.target.classList.contains('stats-section')) {
                    animateCounters();
                }
            }
        });
    }, observerOptions);

    // Observe sections for animations
    document.querySelectorAll('.stats-section').forEach(section => {
        observer.observe(section);
    });

    // Handle newsletter submission
    function handleNewsletterSubmit(event) {
        event.preventDefault();
        const submitBtn = event.target.querySelector('.newsletter-btn');
        const originalText = submitBtn.textContent;

        submitBtn.textContent = 'Subscribing...';
        submitBtn.disabled = true;

        // Simulate newsletter subscription
        setTimeout(() => {
            submitBtn.textContent = 'Subscribed!';
            submitBtn.style.background = '#4CAF50';
            showToast('Successfully subscribed to newsletter!', 'success');

            setTimeout(() => {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                submitBtn.style.background = 'var(--amazon-orange)';
                event.target.reset();
            }, 2000);
        }, 1500);
    }

    // Add parallax effect to hero section
    window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const hero = document.querySelector('.hero-section');
        const rate = scrolled * -0.3;

        if (hero) {
            hero.style.transform = `translateY(${rate}px)`;
        }
    });

    // Add mouse movement effect to category cards
    document.querySelectorAll('.category-card').forEach(card => {
        card.addEventListener('mousemove', (e) => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            const centerX = rect.width / 2;
            const centerY = rect.height / 2;

            const rotateX = (y - centerY) / 15;
            const rotateY = (centerX - x) / 15;

            card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(10px)`;
        });

        card.addEventListener('mouseleave', () => {
            card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) translateZ(0)';
        });
    });

    // Initialize particles on load
    window.addEventListener('load', createParticles);

    // Smooth scrolling for CTA button
    document.querySelector('.cta-button').addEventListener('click', function (e) {
        if (this.getAttribute('href').startsWith('#')) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }
    });
</script>
{% endblock %}